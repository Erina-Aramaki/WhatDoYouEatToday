# WhatDoYouEatToday? 今日何食べる？診断システム               

このwebシステムは今日あなたが食べたいものを診断し、提案します。     
材料からレシピを検索してくれるサイトや、食べたいものからお店を検索してくれるサイトを利用している方も多いのではないでしょうか。     
しかし、「食べるもの」を提案してくれるサイトはあまり見かけません。      
「食事のレパートリーが不足していて食べたいものが思い浮かばない」「いつもとは違うものが食べたい！」    
そんな気持ちになったことはありませんか？      
このアプリは、ボタンを選択していくだけであなたの希望に沿ったメニューを提案してくれます。      
「何を食べたいのか自分でも分からない・・・！」そう思ったときは診断機能を使ってみてください。   

## 制作経緯
普段何を食べるか決める際に「和食と中華どっちが食べたい？」「肉と魚どっちがいい？」など、2-3択から絞り込んで決めていました。           
しかし、思いつくレパートリーが少ないため、レシピを決めに困っていました。          
そこで、最近流行りの「適職診断サイト」のように、ボタンを選択していくことによって今日のご飯を提案してくれるシステムがあるといいなと思ったため、制作に至りました。      

## 使用技術        
- Java    
- MySQL      
- Git/GitHub

## 機能一覧      
- ユーザー情報（登録機能、更新機能）
- ユーザー詳細表示機能    
- ログイン機能    
- ログアウト機能    
- 診断機能    
- レシピ一覧表示機能
- お気に入り（登録機能、表示機能）

## 苦労した点
SQL文に苦戦し、Qiitaなどのサイトで調べながら作成しました。    
試行錯誤を繰り返している中でSQLの面白さに気づくことができたため、今後も積極的にSQLを活用しながら学習を進めたいと思います。    

特に苦戦したこと：    
テーブル結合したものに「ROW_NUMBER()」で連番を付与を付与し、ランダム関数の結果と一致する番号のカラムを取得     
「WesternDaoImpl.java」の select(String strId) メソッド     
![苦戦した点](https://github.com/Erina-Aramaki/WhatDoYouEatToday/assets/75921588/a92f7a62-2198-4580-8223-9b87ba95a10c)

## 工夫したこと        
- メソッドにまとめる               
  可読性を高めるために、メソッドにまとめて再利用できるようにしました。           
- if文、for文           
  何度も書き直し、短く見やすいことを意識しました。           
- コメント           
  後任者の方にとって見やすくなるように、コメントを残すことを習慣にしました。        
- 1枚のjspファイルを使いまわせるようにしました。            
  DBから情報を取得し、ループを回して変数に代入しました。         
  その結果、jspファイル75枚分を1枚のjspファイルで表示できるようになりました。        
- Factoryパターン       
  クラス同士の依存度を低くし、システム全体の柔軟性とメンテナンス性を向上させました。          
  また、ファクトリクラスを用いることでオブジェクト生成のロジックを集約させ、他の部分で再利用できるようにしました。              
  これにより、生成ロジックを繰り返し記述する手間を省くことができました。        
↓Factoryパターンに基づいて作成したファイル一覧             
  ![factory](https://github.com/Erina-Aramaki/WhatDoYouEatToday/assets/75921588/71f595b8-9f91-4795-9cbc-6270abba5c45)

## 今後実装予定    
- API（レシピ検索、お店検索）   
- サイトデザイン（CSS、JavaScript）   
- レシピ削除機能   
- お気に入り削除機能   





